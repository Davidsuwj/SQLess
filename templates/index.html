<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SQLess</title>
  <link rel="stylesheet" type="text/css" href="/static/css/styles.css"/>
</head>
<body>
  <div class="splash-screen">
    <div class="splash-content">
      <div class="logo-container">
      </div>
      <h1 class="title">SQLess</h1>
      <div class="loading-bar">
        <div class="loading-progress"></div>
      </div>
    </div>
  </div>
  
  <div class="main-content">
    <!-- 左側 session 列表 -->
    <div class="sidebar">
      <!-- <button class="newchat newchat square mdi mdi-pencil" onclick="createSession()" >
      </button> -->
      <div class="session-list">
        <!-- 對話列表會在此顯示 -->
      </div>
    </div>

    <!-- 左側圖表欄 -->
    <div class="chart-panel">
      <div class="chart-content">
        <h2>Chart Preview</h2>
        <div class="charts">
          <!-- 這裡對應 scripts.js 的 hideCharts() / loadCharts() -->
          <div id="chartsContainer"
               style="width: 100%; height: 400px; background: rgba(255,255,255,0.1); margin: 20px 0; border-radius: 8px;">
          </div>
          <div class="loader" id="chartsLoader"></div>
        </div>
      </div>
    </div>
        <!-- Header 區域 -->
        <div class="header">
          <div class="header-title">
            <h1>SQLess</h1>
          </div>
          <div class="header-actions">
            <!-- Analytics 按鈕：對應 scripts.js 中 chartToggle 事件 -->
            <button class="chart-toggle">
              <i class="mdi mdi-book-open-outline"></i>
              Analytics
            </button>
            <!-- 自訂下拉選單 (可搜尋) -->
            <div class="custom-dropdown" id="filterDropdown">
              <div class="dropdown-header" id="dropdownHeader">
                <span id="dropdownSelected">Choose Table      </span>
                <i class="mdi mdi-arrow-down nav-icon"></i>
              </div>
              <div class="dropdown-body" id="dropdownBody">
                <div class="search-box">
                  <i class="fas fa-search"></i>
                  <input type="text" placeholder="Search..." id="dropdownSearch" />
                </div>
                <ul class="dropdown-list" id="dropdownList">
                  {% for table_name in tables %}
                  <li data-value="{{ table_name }}">{{ table_name }}</li>
                  {% endfor %}
                </ul>
              </div>
            </div>

            <!-- 使用者資訊區塊 -->
            <div class="user-info-container" id="userInfoContainer">
              <div class="user-avatar">
                <i class="mdi mdi-account-circle-outline nav-icon"></i>
              </div>
              <div class="user-details">
                <span class="user-name" id="userName">Loading...</span>
                <span class="user-hostname" id="userHostname">Loading...</span>
              </div>

            </div>

          </div>
        </div>
    <!-- 中央主要容器 -->
    <div class="container">
      <!-- 聊天區域：對應 chatBox -->
      <div class="chat-box" id="chatBox">
        <!-- 聊天內容 -->
      </div>

      <!-- 輸入區域 -->
      <div class="input-area">
        <div class="input-container">
          <textarea id="userInput" placeholder="傳訊息給SQLess" rows="1"></textarea>
          <button id="sendButton" class="send-button">
            <i class="mdi mdi-arrow-up nav-icon"></i>
          </button>
        </div>
      </div>
    </div>
  
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="/static/js/scripts.js"></script>
</body>
</html>
